package week07.PGS_LV1_Ïã†Í≥†Í≤∞Í≥ºÎ∞õÍ∏∞;

/* ================================================================
 *
 * Problem  : Ïã†Í≥† Í≤∞Í≥º Î∞õÍ∏∞_Lv1
 * Author   : ÍπÄÌòúÏßÄ
 * Date     : 2025ÎÖÑ 05Ïõî 27Ïùº
 *
 * ================================================================
 * üìå Î¨∏Ï†ú Î∂ÑÏÑù ÏöîÏïΩ
 * @ Í≤åÏãúÌåê Î∂àÎüâ Ïù¥Ïö©ÏûêÎ•º Ïã†Í≥†ÌïòÍ≥† Ï≤òÎ¶¨ Í≤∞Í≥ºÎ•º Î©îÏùºÎ°ú Î∞úÏÜ°ÌïòÎäî ÏãúÏä§ÌÖú
 * - Í∞Å Ïú†Ï†ÄÎäî Ìïú Î≤àÏóê Ìïú Î™ÖÏùò Ïú†Ï†Ä Ïã†Í≥† ( ÌöüÏàò Ï†úÌïú X )
 * -> !!! ÎèôÏùºÌïú Ïú†Ï†ÄÏóê ÎåÄÌïú Ïã†Í≥† ÌöüÏàòÎäî 1ÌöåÎ°ú Ï≤òÎ¶¨
 *
 * - kÎ≤à Ïù¥ÏÉÅ Ïã†Í≥†Îêú Ïú†Ï†ÄÎäî Í≤åÏãúÌåê Ïù¥Ïö© Ï†ïÏßÄ -> Ìï¥Îãπ Ïú†Ï†ÄÎ•º Ïã†Í≥†Ìïú Î™®Îì† Ïú†Ï†ÄÏóêÍ≤å Ï†ïÏßÄ ÏÇ¨Ïã§ Î©îÏùº Î∞úÏÜ°
 * -> !!! Ïó¨Îü¨ Î≤à Ïã†Í≥†Ìï¥ÎèÑ Ìï¥Îãπ Ïú†Ï†ÄÏóê ÎåÄÌïú Î©îÏùºÏùÄ Ìïú Î≤àÎßå ÏàòÏã†
 *
 * -> Í∞Å Ïú†Ï†ÄÍ∞Ä Î∞õÏùÄ Î©îÏùº Í∞úÏàò Íµ¨ÌïòÍ∏∞
 *
 * # ÏûÖÎ†•
 * - Ïù¥Ïö©Ïûê Î™©Î°ù : id_list, Ïã†Í≥† Î™©Î°ù : report, Ï†ïÏßÄ Í∏∞Ï§Ä : k
 *
 * # Ï∂úÎ†•
 * - id_listÏóê Îã¥Í∏¥ id ÏàúÏÑúÎåÄÎ°ú Í∞Å Ïú†Ï†ÄÍ∞Ä Î∞õÏùÄ Î©îÏùº Ïàò
 *
 * üíª ÏïåÍ≥†Î¶¨Ï¶ò ÏÑ§Í≥Ñ
 * 1. id_listÏùò Ïù∏Îç±Ïä§Î•º Ïú†Ï†ÄÎ•º ÌÇ§Î°ú ÌïòÏó¨ MapÏóê Ï†ÄÏû•ÌïúÎã§.
 * 2. Ïã†Í≥† Î™©Î°ù - ÌîºÏã†Í≥†ÏûêÎ•º ÌÇ§Î°ú ÌïòÏó¨ Ïã†Í≥†ÏûêÎ•º ÏßëÌï©ÏúºÎ°ú Ï†ÄÏû•ÌïúÎã§. ( Ï§ëÎ≥µ Ïã†Í≥† Ï†úÍ±∞ )
 * 3. Ïã†Í≥† ÌöüÏàò Íµ¨ÌïòÍ∏∞ - ÎßåÏïΩ ÏßëÌï©Ïùò ÌÅ¨Í∏∞Í∞Ä Ï†ïÏßÄ Í∏∞Ï§Ä Ïã†Í≥† ÌöüÏàòÎ≥¥Îã§ ÌÅ¨Îã§Î©¥ Ìï¥Îãπ ÌîºÏã†Í≥†ÏûêÎäî Ï†ïÏßÄÎêúÎã§.
 *    -> Ìï¥Îãπ Ïã†Í≥†Ïûê ÏßëÌï©ÏóêÏÑú Ïú†Ï†Ä Ï†ïÎ≥¥Î•º ÌÇ§Î°ú ÌïòÏó¨ MapÏóêÏÑú Ïù∏Îç±Ïä§Î•º Ï∞æÍ≥†, Í≤∞Í≥º Î∞∞Ïó¥ÏóêÏÑú Ìï¥Îãπ Ïù∏Îç±Ïä§Ïùò Í∞íÏùÑ Ï¶ùÍ∞ÄÏãúÌÇ®Îã§.
 * 4. Í≤∞Í≥º Î∞∞Ïó¥ÏùÑ Î∞òÌôòÌïúÎã§.
 *
 * ‚è∞ ÏãúÍ∞ÑÎ≥µÏû°ÎèÑ
 * - O(NM)
 * -> N : id_list ÌÅ¨Í∏∞
 * -> M : report ÌÅ¨Í∏∞
 *
 * ================================================================
 */

import java.util.*;

public class Hye {

    class Solution {
        public int[] solution(String[] id_list, String[] report, int k) {

            Map<String, Integer> index = new HashMap<>();
            for (int i = 0; i < id_list.length; i++) {
                index.put(id_list[i], i);
            }

            int[] answer = new int[id_list.length];

            Map<String, Set<String>> map = new HashMap<>();

            for(String s : report){
                String[] temp = s.split(" ");
                String a = temp[0];
                String b = temp[1];

                map.putIfAbsent(b, new HashSet<>());

                map.get(b).add(a);
            }

            for(String key : map.keySet()){
                Set<String> temp = map.get(key);
                if(temp.size() >= k){
                    for(String user : temp){
                        answer[index.get(user)]++;
                    }
                }
            }

            return answer;
        }
    }
}
